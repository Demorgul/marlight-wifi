
Настройка скрипта производится путем изменения переменных в начале файла marlight.php
в области [setup section]

Скрипт поддерживает POST и GET запросы.
Формат GET запросов:

marlight.php?command=команда (список команд представлен ниже)

В некоторых случаях нужно передать дополнительные параметры. например цвет:

marlight.php?command=RGB_MODE_SET_COLOR&r=255&g=10&b=0

или время:

marlight.php?command=MODE_TIMER&h1=10&m1=15&h2=10&m2=17


Важно, команда применяется к последнему включенному каналу, поэтому если нужно 2 канала перевести в режим НОЧЬ, то нужно послать команду ВКЛ на первый канал, а затем команду на режим НОЧЬ и проделать то же самое со вторым каналом...

Или :) добавить в запрос параметр chanel=N, где N = номер канала от 1 до 4 (тогда сначала пошлется команда
на включение нужного канала а потом ту что вы послали):

marlight.php?command=MODE_READING&channel=1


Так же для предотвращения несанкционированного доступа можноиспользовать пароль
(сам пароль а так же проверять его или нет устанавливается в самом скрипте marlight.php):

marlight.php?command=MODE_READING&channel=1&password=12345





Список команд:

ALL_ON                      (все включить)
ALL_OFF                     (все выключить)
BRIGHT_UP                   (увеличить яркость)
BRIGHT_DOWN                 (уменьшить яркость)
TEMP_COLDER                 (температура холоднее)
TEMP_WARMER                 (температура теплее)
BRIGHT_TEMP_DEFAULT         (установка дефолтных параметров яркости и цветовой температуры)
ON_1                        (включить 1 канал)
OFF_1                       (выключить 1 канал)
ON_2                        (включить 2 канал)
OFF_2                       (выключить 2 канал)
ON_3                        (включить 3 канал)
OFF_3                       (выключить 3 канал)
ON_4                        (включить 4 канал)
OFF_4                       (выключить 4 канал)
RGB_MODE_ON                 (включить RGB режим)
RGB_MODE_BRIGHT_DOWN        (уменьшить яркость в RGB режиме)
RGB_MODE_BRIGHT_UP          (увеличить яркость в RGB режиме)

RGB_MODE_SET_COLOR          (установить цвет лампочки в RGB режиме)
                            необходимо дополнительно указать цвет в палитре RGB,
                            например: marlight.php?command=RGB_MODE_SET_COLOR&r=255&g=10&b=0

MODE_NIGHT                  (ночной режим)
MODE_MEETING                (режим совещания)
MODE_READING                (режим чтения)
MODE_MODE                   (режим определенных цветов - смена по кругу)

MODE_TIMER                  (режим таймера вводиться время для включения и отключения)
                            необходимо дополнительно указать время включения и выключения - часы минуты,
                            например включить в 10:15, выключить в 10:17
                            marlight.php?command=MODE_TIMER&h1=10&m1=15&h2=10&m2=17 )

MODE_ALARM                  (режим будильника - необходимо установить время)
                            необходимо дополнительно указать время включения - часы минуты,
                            например включить в 7:15
                            marlight.php?command=MODE_ALARM&h1=7&m1=15

MODE_SLEEP                  (режим сна ????)

MODE_RECREATION             (режим включения режима RGB с установкой цвета за оюну команду)
                            необходимо дополнительно указать цвет в палитре RGB,
                            например: marlight.php?command=MODE_RECREATION&r=255&g=10&b=0



Авторство программы принадлежит Максиму Ефимову(efimomax@gmail.com), который провел работу по реверс-инжинирингу протокола передачи команд.
